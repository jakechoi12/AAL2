<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News Intelligence - AAL</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üì∞</text></svg>">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    
    <!-- Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Leaflet Map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <!-- CSS - Design System -->
    <link rel="stylesheet" href="../css/variables.css">
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/utilities.css">
    <!-- Components -->
    <link rel="stylesheet" href="../css/components/header.css">
    <link rel="stylesheet" href="../css/components/auth.css">
    <link rel="stylesheet" href="../css/components/unified-cards.css">
    <link rel="stylesheet" href="../css/components/unified-buttons.css">
    <!-- Sections -->
    <link rel="stylesheet" href="../css/sections/news-intelligence.css">
</head>
<body>
    <!-- Header -->
    <header>
        <a href="/" class="logo">AAL<span>.</span></a>
        <nav>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="company.html" class="nav-link">Company</a>
                </li>
                <li class="nav-item has-dropdown">
                    <button class="dropdown-toggle">
                        Quotation <i class="fas fa-chevron-down"></i>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a href="quotation.html">Quote</a></li>
                        <li><a href="bidding-list.html">Bidding</a></li>
                        <li><a href="shipper-bidding.html">My Quotations</a></li>
                    </ul>
                </li>
                <li class="nav-item has-dropdown">
                    <button class="dropdown-toggle">
                        Operations <i class="fas fa-chevron-down"></i>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a href="#" class="coming-soon">Contract <span class="badge-coming-soon">Ï§ÄÎπÑÏ§ë</span></a></li>
                        <li><a href="#" class="coming-soon">Tracking <span class="badge-coming-soon">Ï§ÄÎπÑÏ§ë</span></a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a href="dashboard-shipper.html" class="nav-link coming-soon">
                        Dashboard <span class="badge-coming-soon">Ï§ÄÎπÑÏ§ë</span>
                    </a>
                </li>
                <li class="nav-item has-dropdown active">
                    <button class="dropdown-toggle">
                        Intelligence <i class="fas fa-chevron-down"></i>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a href="market-data.html">Market Data</a></li>
                        <li><a href="news-intelligence.html" class="active">News Intel</a></li>
                        <li><a href="report-insight.html">Report & Insight</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
        <div class="header-auth" id="headerAuthContainer">
            <button class="header-auth-btn" onclick="Auth.openModal()">
                <i class="fas fa-user"></i> Login
            </button>
        </div>
    </header>

    <!-- Dashboard Layout -->
    <div class="news-dashboard">
        <!-- Sidebar -->
        <aside class="news-sidebar">
            <!-- Daily Summary Panel -->
            <div class="news-panel">
                <div class="panel-header">
                    <i class="fas fa-chart-line"></i>
                    Daily Summary
                </div>
                <div class="summary-stat">
                    <div class="stat-value" id="total-articles">--</div>
                    <div class="stat-label">Articles in last 24h</div>
                    <div class="stat-updated" id="last-updated">Last Updated: --</div>
                </div>
                <div class="summary-stat stat-breakdown">
                    <div class="stat-item">
                        <div class="value" id="kr-count">--</div>
                        <div class="label">Korea</div>
                    </div>
                    <div class="stat-item" style="text-align: right;">
                        <div class="value" id="global-count">--</div>
                        <div class="label">Global</div>
                    </div>
                </div>
            </div>

            <!-- Categories Panel -->
            <div class="news-panel">
                <div class="panel-header">
                    <i class="fas fa-pie-chart"></i>
                    Categories
                </div>
                <div class="category-chart-container">
                    <canvas id="categoryChart"></canvas>
                </div>
            </div>

            <!-- Critical Alerts Panel -->
            <div class="news-panel">
                <div class="panel-header">
                    <i class="fas fa-bell" style="color: var(--severity-severe);"></i>
                    Critical Alerts
                </div>
                <div id="critical-alerts-list">
                    <div class="loading-spinner">
                        <div class="spinner"></div>
                        Loading...
                    </div>
                </div>
            </div>

            <!-- Operation Clocks Panel -->
            <div class="news-panel">
                <div class="panel-header">
                    <i class="fas fa-clock"></i>
                    Operation Clocks
                </div>
                <div class="clock-display">
                    <div class="utc-time" id="utc-time">---</div>
                    <div class="kst-time" id="kst-time">Seoul (KST): ---</div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="news-main">
            <!-- Map Container -->
            <div class="map-container">
                <div id="news-map"></div>
            </div>

            <!-- Word Cloud -->
            <div class="wordcloud-container">
                <div class="wordcloud-title">INTELLIGENCE WORD CLOUD</div>
                <div class="wordcloud-content" id="wordcloud-content">
                    <div class="loading-spinner">
                        <div class="spinner"></div>
                        Loading keywords...
                    </div>
                </div>
            </div>

            <!-- Filter Bar -->
            <div class="filter-bar">
                <div class="main-tabs">
                    <button class="tab-btn active" data-type="all">All Intelligence</button>
                    <button class="tab-btn" data-type="KR">Korea Focus</button>
                    <button class="tab-btn" data-type="GLOBAL">Global Focus</button>
                </div>
                <div class="category-filter">
                    <div class="category-chip active" data-category="all">All Categories</div>
                    <div class="category-chip" data-category="Crisis">Crisis</div>
                    <div class="category-chip" data-category="Ocean">Ocean</div>
                    <div class="category-chip" data-category="Air">Air</div>
                    <div class="category-chip" data-category="Inland">Inland</div>
                    <div class="category-chip" data-category="Economy">Economy</div>
                    <div class="category-chip" data-category="ETC">ETC</div>
                </div>
            </div>

            <!-- News List -->
            <div class="news-list" id="news-list">
                <div class="loading-spinner">
                    <div class="spinner"></div>
                    Loading articles...
                </div>
            </div>

            <!-- Pagination -->
            <div class="pagination" id="pagination"></div>
        </main>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-brand">AAL.</div>
        <div class="copyright">&copy; 2025 AllAboutLogistics.</div>
    </footer>

    <!-- Auth Modal -->
    <div class="auth-modal-overlay" id="authModalOverlay">
        <div class="auth-modal">
            <div class="auth-modal-header">
                <h3 class="auth-modal-title" id="authModalTitle">Î°úÍ∑∏Ïù∏</h3>
                <button class="auth-modal-close" onclick="Auth.closeModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="auth-modal-body">
                <!-- Step Indicator -->
                <div class="auth-steps">
                    <div class="auth-step active"></div>
                    <div class="auth-step"></div>
                </div>
                
                <!-- Login Type Selection View -->
                <div id="loginTypeView">
                    <p style="text-align: center; color: var(--text-sub); margin-bottom: 1.5rem;">
                        Î°úÍ∑∏Ïù∏ Ïú†ÌòïÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî
                    </p>
                    <div class="user-type-selector">
                        <button class="user-type-option" onclick="Auth.selectLoginType('shipper')">
                            <i class="fas fa-building"></i>
                            <span class="type-label">ÌôîÏ£º (Shipper)</span>
                            <span class="type-desc">ÌôîÎ¨º Ïö¥ÏÜ°ÏùÑ ÏùòÎ¢∞ÌïòÎäî Í∏∞ÏóÖ</span>
                        </button>
                        <button class="user-type-option" onclick="Auth.selectLoginType('forwarder')">
                            <i class="fas fa-truck"></i>
                            <span class="type-label">Ìè¨ÏõåÎçî (Forwarder)</span>
                            <span class="type-desc">Ïö¥ÏÜ° ÏÑúÎπÑÏä§Î•º Ï†úÍ≥µÌïòÎäî Í∏∞ÏóÖ</span>
                        </button>
                    </div>
                    <div class="auth-divider">
                        <span>ÎòêÎäî</span>
                    </div>
                    <p class="auth-form-hint" style="text-align: center;">
                        ÏïÑÏßÅ Í≥ÑÏ†ïÏù¥ ÏóÜÏúºÏã†Í∞ÄÏöî? 
                        <a onclick="Auth.showRegisterTypeView()">ÌöåÏõêÍ∞ÄÏûÖ</a>
                    </p>
                </div>
                
                <!-- Login Form View -->
                <div id="loginView" style="display: none;">
                    <button class="auth-back-btn" onclick="Auth.goBackToLoginType()">
                        <i class="fas fa-arrow-left"></i> Î°úÍ∑∏Ïù∏ Ïú†Ìòï ÏÑ†ÌÉù
                    </button>
                    <div class="auth-error" id="loginError"></div>
                    <div class="auth-form">
                        <div class="auth-form-group">
                            <label class="auth-form-label required">Ïù¥Î©îÏùº</label>
                            <input type="email" class="auth-form-input" id="loginEmail" 
                                   placeholder="example@company.com" autocomplete="email">
                        </div>
                        <div class="auth-form-group">
                            <label class="auth-form-label required">ÎπÑÎ∞ÄÎ≤àÌò∏</label>
                            <div class="password-field">
                                <input type="password" class="auth-form-input" id="loginPassword" 
                                       placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî" autocomplete="current-password">
                                <button type="button" class="password-toggle">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                        <button class="auth-submit-btn" id="loginSubmitBtn" onclick="Auth.submitLogin()">
                            Î°úÍ∑∏Ïù∏
                        </button>
                    </div>
                </div>
                
                <!-- Register Type Selection View -->
                <div id="registerTypeView" style="display: none;">
                    <button class="auth-back-btn" onclick="Auth.goBack()">
                        <i class="fas fa-arrow-left"></i> Îí§Î°ú
                    </button>
                    <p style="text-align: center; color: var(--text-sub); margin-bottom: 1.5rem;">
                        ÌöåÏõê Ïú†ÌòïÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî
                    </p>
                    <div class="user-type-selector">
                        <button class="user-type-option" onclick="Auth.selectUserType('shipper')">
                            <i class="fas fa-building"></i>
                            <span class="type-label">ÌôîÏ£º (Shipper)</span>
                            <span class="type-desc">ÌôîÎ¨º Ïö¥ÏÜ°ÏùÑ ÏùòÎ¢∞ÌïòÎäî Í∏∞ÏóÖ</span>
                        </button>
                        <button class="user-type-option" onclick="Auth.selectUserType('forwarder')">
                            <i class="fas fa-truck"></i>
                            <span class="type-label">Ìè¨ÏõåÎçî (Forwarder)</span>
                            <span class="type-desc">Ïö¥ÏÜ° ÏÑúÎπÑÏä§Î•º Ï†úÍ≥µÌïòÎäî Í∏∞ÏóÖ</span>
                        </button>
                    </div>
                    <p class="auth-form-hint" style="text-align: center; margin-top: 1.5rem;">
                        Ïù¥ÎØ∏ Í≥ÑÏ†ïÏù¥ ÏûàÏúºÏã†Í∞ÄÏöî? 
                        <a onclick="Auth.showLoginTypeView()">Î°úÍ∑∏Ïù∏</a>
                    </p>
                </div>
                
                <!-- Register Form View -->
                <div id="registerFormView" style="display: none;">
                    <button class="auth-back-btn" onclick="Auth.goBack()">
                        <i class="fas fa-arrow-left"></i> ÌöåÏõê Ïú†Ìòï ÏÑ†ÌÉù
                    </button>
                    <div class="auth-error"></div>
                    <div class="auth-success"></div>
                    <div class="auth-form">
                        <div class="auth-form-row">
                            <div class="auth-form-group">
                                <label class="auth-form-label required">ÌöåÏÇ¨Î™Ö</label>
                                <input type="text" class="auth-form-input" id="regCompany" 
                                       placeholder="ÌöåÏÇ¨Î™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî">
                            </div>
                            <div class="auth-form-group">
                                <label class="auth-form-label">ÏÇ¨ÏóÖÏûêÎì±Î°ùÎ≤àÌò∏</label>
                                <input type="text" class="auth-form-input" id="regBusinessNo" 
                                       placeholder="000-00-00000">
                            </div>
                        </div>
                        <div class="auth-form-row">
                            <div class="auth-form-group">
                                <label class="auth-form-label required">Îã¥ÎãπÏûêÎ™Ö</label>
                                <input type="text" class="auth-form-input" id="regName" 
                                       placeholder="Îã¥ÎãπÏûêÎ™Ö">
                            </div>
                            <div class="auth-form-group">
                                <label class="auth-form-label required">Ïó∞ÎùΩÏ≤ò</label>
                                <input type="tel" class="auth-form-input" id="regPhone" 
                                       placeholder="010-0000-0000">
                            </div>
                        </div>
                        <div class="auth-form-group">
                            <label class="auth-form-label required">Ïù¥Î©îÏùº</label>
                            <input type="email" class="auth-form-input" id="regEmail" 
                                   placeholder="example@company.com" autocomplete="email">
                        </div>
                        <div class="auth-form-row">
                            <div class="auth-form-group">
                                <label class="auth-form-label required">ÎπÑÎ∞ÄÎ≤àÌò∏</label>
                                <div class="password-field">
                                    <input type="password" class="auth-form-input" id="regPassword" 
                                           placeholder="8Ïûê Ïù¥ÏÉÅ, ÏòÅÎ¨∏+Ïà´Ïûê" autocomplete="new-password">
                                    <button type="button" class="password-toggle">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="auth-form-group">
                                <label class="auth-form-label required">ÎπÑÎ∞ÄÎ≤àÌò∏ ÌôïÏù∏</label>
                                <div class="password-field">
                                    <input type="password" class="auth-form-input" id="regPasswordConfirm" 
                                           placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏ Ïû¨ÏûÖÎ†•" autocomplete="new-password">
                                    <button type="button" class="password-toggle">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <button class="auth-submit-btn" id="registerSubmitBtn" onclick="Auth.submitRegister()">
                            <i class="fas fa-user-plus"></i> ÌöåÏõêÍ∞ÄÏûÖ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="../js/features/auth.js"></script>
    <script src="../js/features/news-intelligence/news-intelligence.js"></script>
    <!-- Navigation Dropdown -->
    <script src="../js/components/navDropdown.js"></script>
</body>
</html>

